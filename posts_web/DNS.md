---
title: 查询DNS
description: 
date: 2022-4-25
tags:
  - DNS
---
## 客户端查询DNS服务器 发送的消息内容包含
### 域名 
```
邮件@后面的部分
```

### class
```
class是用来识别网络的信息 不过现在只有互联网class的值永远是IN代表互联网
```

### 记录类型
```
表示域名对应的类型
类型 域名       对应
A    IP地址
MX   邮件服务器
```
DNS 上事先保存这三种记录，根据客户端请求作查询

### 例子
```
查询www.a.com的ip地址
域名 = www.a.com
class = IN
记录类型 = A
```
只要是作为A类型再DNS服务器上注册的都可以作为web服务器的域名
### 类型
```
根据ip查域名的PTR类型
查询域名相关别名的CNAME类型
查询DNS服务器IP地址的NS类型
查询域名属性的SOA类型
```
#### CNAME
```
CNAME 即指别名记录，也被称为规范名字。
这种记录允许将多个名字映射到同一台计算机。 
当需要将域名指向另一个域名，再由另一个域名提供 ip地址，就需要添加 CNAME 记录。
```
```
博客搭建再 xxx.github.io 
博客目录创建 CNAME文件
CNAME中写入域名 xxx.com
xxx.com 指向 xxx.github.io 再指向对应的ip地址
```

### 查询DNS
```
根据域 至上而下 查询DNS 服务器
根域 www.a.com.  // com 后面的 . 为根域 一般不写
将根域的DNS服务器信息保存在互联网中所有的DNS服务器中。
这样一来，任何DNS服务器就都可以找到并访问根域DNS服务器了

实际上，根域DNS服务器的相关信息已经包含在DNS服务器程序的配置文件中了，
因此只要安装了DNS服务器程序，这些信息也就被自动配置好了。
```

### 查询过程
```
客户端机查询最近的DNS服务器，如果没查到，最近的DNS服务器会查询根域服务 . 然后再查.com依次往下
```

### DNS 服务器具有缓存功能